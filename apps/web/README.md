# Trading 212 Portfolio Viewer

A modern React web application to visualize your Trading 212 portfolio data with a sleek, dark-themed interface.

## Features

- **Dark Theme UI** - Professional dark theme matching modern portfolio trackers
- **Sortable Table** - Click on column headers to sort positions by any metric
- **Account Filtering** - Filter between All, Trading, and ISA accounts
- **Live Summary** - Fixed footer showing total free funds, portfolio value, and results
- **Responsive Design** - Works great on desktop and mobile devices
- **CSV Data Import** - Automatically loads data from CSV exports

## Tech Stack

- **React 19** - Latest React with TypeScript
- **Vite** - Lightning-fast build tool
- **Tailwind CSS** - Utility-first CSS framework with custom portfolio theme
- **Vitest** - Modern, blazing-fast unit testing framework
- **Testing Library** - React component testing utilities

## Getting Started

### Installation

```bash
cd apps/web
npm install
```

### Development

Start the development server:

```bash
npm run dev
```

The app will be available at `http://localhost:5173`

### Building for Production

```bash
npm run build
```

The production build will be in the `dist` folder.

### Running Tests

```bash
# Run tests in watch mode
npm test

# Run tests once
npm run test:run

# Run tests with UI
npm run test:ui
```

## Project Structure

```
apps/web/
├── src/
│   ├── components/
│   │   ├── PortfolioTable.tsx    # Main portfolio table with sorting
│   │   ├── AccountSummary.tsx    # Summary footer component
│   │   └── AccountFilter.tsx     # Account filter buttons
│   ├── types/
│   │   └── portfolio.ts          # TypeScript type definitions
│   ├── utils/
│   │   ├── csvParser.ts          # CSV parsing utilities
│   │   └── csvParser.test.ts     # Unit tests for CSV parser
│   ├── test/
│   │   └── setup.ts              # Test environment setup
│   ├── App.tsx                   # Main app component
│   └── main.tsx                  # App entry point
├── public/                       # Static assets
├── tailwind.config.js            # Tailwind configuration
├── vite.config.ts                # Vite + Vitest configuration
└── package.json
```

## Data Format

The app expects two CSV files in the `output/` folder:

1. **portfolio_positions_FINAL.csv** - Individual position data
2. **portfolio_summary.csv** - Account summaries and totals

These are generated by the Trading 212 exporter script in the parent directory.

## Customization

### Theme Colors

Edit `tailwind.config.js` to customize the color scheme:

```js
colors: {
  'portfolio-bg': '#0a0a0a',      // Background
  'portfolio-card': '#1a1a1a',    // Card background
  'portfolio-border': '#2a2a2a',  // Borders
  'portfolio-text': '#e5e5e5',    // Text
  'portfolio-text-dim': '#999999', // Muted text
  'portfolio-green': '#00d67e',   // Positive results
  'portfolio-red': '#ff5757',     // Negative results
}
```

## Features in Detail

### Sortable Columns

Click any column header to sort by that metric:
- NAME - Alphabetical sorting
- SHARES - Number of shares owned
- MARKET VALUE - Current position value
- AVERAGE PRICE - Purchase price
- CURRENT PRICE - Live price
- RESULT - Profit/Loss in GBP
- RESULT % - Percentage gain/loss

### Account Filtering

Toggle between:
- **All** - Show all positions
- **Trading** - Show only Trading account positions
- **ISA** - Show only ISA account positions

### Color Coding

- **Green** - Positive returns
- **Red** - Negative returns
- **White** - Neutral values

## License

Part of the Trading 212 Portfolio Exporter project.
